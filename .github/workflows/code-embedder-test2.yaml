name: 🪄 Code Embedder Test 2 (example)

on: push

permissions:
  contents: write

jobs:
  code_embedder:
    name: "Code embedder"
    runs-on: ubuntu-latest
    env:
      PYTHON_VERSION: "3.12"
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        # with:
        #   ref: ${{ github.event.pull_request.head.ref }}

      - name: 🐍 Set up Python ${{ env.PYTHON_VERSION }}
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}

      - name: 🪄 Format comments in code snippets
        run: python dev/scripts/format_snippet_prints.py

      - name: Run code embedder
        uses: kvankova/code-embedder@v1.1.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
